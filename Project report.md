<h1>Ievads</h1>
<h2>Problēmas nostādne</h2>

Grupai tika izvēlēta problēmsituācija "**Sabalansētas ēdienkartes plānošana**".

Pārtikas plānošanas un kontroles lietotnei ir jāveic dažādi uzdevumi, piemēram, datu savākšana un analīze par lietotāja ēdienkarti, ēdienkārtes pielāgošana, lietošanas ērtība, lietotāja motivēšana un uzturēšana, kā arī datu aizsardzība. Tās mērķis ir palīdzēt lietotājiem pārraudzīt un kontrolēt kaloriju patēriņu, sniegt personalizētus ēdienkārtes plānus, veicināt veselīgu dzīvesveidu. Šīs funkcijas palīdz lietotājiem labāk saprast savus ēšanas ieradumus, uzlabot savu uzturu un saglabāt veselīgu dzīvesveidu.

<h2>Darba un novērtēšanas mērķis</h2>

Pārtikas plānošanas un kontroles lietotnes izstrādes mērķis ir uzlabot lietotāju ēdināšanas organizāciju, uzlabot ēdināšanas kvalitāti un veicināt veselīgu uzturu. Lietotnes darbības novērtēšanai var iekļaut šādus aspektus:

* **Pārtikas plānošanas efektivitāte:** tiek novērtēta lietotnes spēja sniegt personalizētus pārtikas plānus, balstoties uz lietotāja personīgajiem datiem.

* **Lietderība:** tiek novērtēta lietotnes lietošanas ērtība un lietojamība.

* **Datu drošība:** tiek novērtēta lietotnes spēja nodrošināt lietotāja datu drošību.

<h1>Līdzīgo risinājumu pārskats</h1>
Tiek apskatītas uztura/sabalansētas ēdienkartes mobilas lietotnes:

* **MyFitnessPal** ir plaši izmantota lietotne, kas ļauj lietotājiem sekot savam uzturam, ievadīt ēdienkarte, un izvērtēt uzturvērtības. Tas arī piedāvā kopīgojumu ar citām lietotnēm un ierīcēm, lai atvieglo ierakstu.
* **Yazio** ir uztura lietotne, kas palīdz lietotājiem plānot un sekot saviem ēdienkārtas ierakstiem. Tā piedāvā ēdienu receptes, iepirkšanās saraksta funkcijas un svara uzraudzību.

* **Cronometer** ir precīza uztura lietotne, kas fokusējas uz iegūto uzturvērtību aprēķinu un mikroelementiem. Tas ir noderīgs tiem, kas vēlas detalizēti sekot savai uzturam un uzturvērtībām.

* **Lose It!** ir lietotne svara uzraudzībai un ēdienkartes plānošanai. Lietotāji var sekot savai svara attīstībai un plānot sabalansētas ēdienkārtas, ņemot vērā savus mērķus.

* **Fitbit** ir daudzpusīga lietotne un ierīce, kas ietver arī uztura sadaļu. Lietotāji var sekot savam uzturam, ievadīt ēdienkartes, un tas sadarbojas ar Fitbit viedpulksteņiem un citām ierīcēm.

* **Mealime** piedāvā ēdienkartes plānošanu un receptes, ņemot vērā lietotāju priekšroces un diētas ierobežojumus. Tas var ietaupīt laiku, izvēlotie s, kas gatavot.

* **Lifesum** ir vēl viena uztura lietotne, kas ļauj lietotājiem plānot ēdienkārtas, izsekot uzturvērtības un uzraudzīt svaru. Tas piedāvā arī veselības un fitnesa padomus.

**MyFitnessPal** 
  **Lietotāja ievadīti dati**
  Mērķis (palikt esošā svarā, uzņemt svaru vai mazinat svaru)
  Dzīvesveids (cik aktīvs, 4 opcijas - mazkustīgs, nedaudz, aktīvs, ļoti aktīvs)
  Dzimums, vecums, valsts
  Augums, svars tagad, vēlamais svars
  Cik daudz notievēt nedeļā (0.2, 0.5, 0.8, 1.0)"
  **Iespēja ievadīt jaunus produktus** Ir
  **Lietotnes gala rezultāts** Veselīgs uzturs un svara mazināšana
  **Papildus funkcijas (maksas versijai)** Maksas ēdienkarte (7 vai 14 dienām)
  **Apmaksātas versijas piedavājums** 
  Maksas pieeja nesatur reklāmu
  Maksas versijā ir vieglāk balansēt tauku-ogļhidrātu-olumbaltumvielas racionā (sniedz ieteikumus)
  Maksas varsija sola personalizētus ieteikumus racionam

**Yazio**
  **Lietotāja ievadīti dati**
  Mērķis - 5 opcijas (palikt esošā svarā, uzņemt svaru vai mazinat svaru, pluss - palielinat muskulatūru un cits)
  Motivācija kāpēc (pašparliecība, uzlabot veselību, palielināt fizisko sagatavotību, sagatavoties kādam pasākumam, cits)
  Ko vēl gribētos uzlabot
  Kāda ir iepriekšēja pieredze svaru mazināšanas jomā (nepaveicas, izdevas un vēlos mazinat vēl, izdevas bet svars atgriežas)
  Kādas bija grūtības svara mazināšanas laikā
  Kas izraisīja lieko svaru iepriekš (trauma, work-life, grūtniecība, metabolisms, stress, medikamenti, citi)
  Vai šis faktors izmainījas? Kas tieši pamainījas?
  Kas ir pamats, lai sasniegt mērķi?
  Pieredzes jautājums - vai pirms tam skaitīja kalorijas, vai izmēģināja ēdienreizes pēc režīma
  Kā plānojiet pieturēties pie mērķa tagad?
  Kā jūtaties par mērķi tagad?
  Kā izmainīsies dzīve pēc mērķa sasniegšanas?
  Dzimums, vecums
  Augums
  Aktivitātes līmenis (4 opcijas)
  svars tagad, vēlamais svars
  Pasākums, kuram var piesaistīt mērķi notievēt (vasara, kāzas utt.)
  Cik minutes dienā tiks izmantota lietotne (5, 10, 15, 30)
  Challenge - cik ilgi varēsiet kārtīgi aizpildīt lietotni
  Kāda Jums ir diēta (klasiskā, pescatarian, vegetarian, vegan)
  Tālāk seko Subscribtion piedāvājums
  
<h3>Secinājumi par līdzīgo risinājuma pārskatu</h3>
Risinājumiem ir kopīgie anketas jautājumi par:
1. lietotāja svaru, 
1. vēlmi notievēt, saglabāt svaru vai pielikt svaru
1. vecumu
1. augumu
1. dzīvesveidu (cik aktīvs ir cilvēks, opcijas - mazkustīgs dzīvesveids, nedaudz, aktīvs un ļoti aktīvs)
  
<h1>Tehniskais risinājums</h1>
<h2>Prasības</h2>
Prasības tiek sadalītas pēc sistēmas moduļa.

| Modulis                          | Prasība                                                                                                                        | Prioritāte  |
| :---                             |    :----:                                                                                                                      |       :---: |
| Lietotāja pieteikšanas           | Lietotājs var reģistrēties ar savu e-pastu un ienākt ar e-pastu un paroli, lai izmantot lietotni                               |        2     |
| Lietotāja aptauja                | Lietotājs aizpilda anketu, lai saņemt personalizēto rezultātu                                                                  |        1     |
| Lietotāja aptauja                | Lietotājs akceptē (confirm), ka iesniegtas atbildes ir pareizas                                                                |        3     |
| Lietotāja aptauja                | Pēc anketas aizpildīšanas, lietotājs to var mainīt (edit), un uz jauno atbilžu pamata tiks uzģenerēts jauns rezultāts          |        5     |
| Lietotāja aptauja                | Lietotājs ir informēts, kurā (pēc kārtas) ir reize, kad lietotājs izmaina savas atbildes                                       |        6     |
| Rezultātu attēlošana             | Lietotājs saņem rezultātu ēdienkartes veidā                                                                                    |        4     |
| Rezultātu attēlošana             | Lietotājs var apskatīt iepriekšējos uzģenerētus rezultātus                                                                     |        7     |

<h2>Algoritms</h2>
Līdzīgi, kā lietotne ir sadalīta moduļos, lietotnes algoritmi arī var būt nosacīti sadalīti pēc piederības noteiktam lietotnes modulim. Lietotnes algoritmi tiks apskatīti secīgi no lietotāja puses.

**Lietotāja reģistrācija** 
[![Lietotāja reģistrācijas loģika](https://github.com/nickh-dev/balanced-menu-planning/blob/a3f6f985a19f57dcfce54f8832a92d46916b9fee/Lietotaja_registracijas_logika.drawio.png)]

**BMI indeksa un svara mainīšanas vēlmes loģika pie ēdienkartes aprēķina** 
Ir zināms, ka ēdināšana ir svarīgs process, ar ko var būt saistītas arī dažas psiholoģiskas problēmas. Psiholoģijā ir apakšnozare, kas aplūko ar ēdinašanas saistītus psihes traucējumus.
Lai mūsu lietotne ņem vērā 
[![BMI indekss un svara mainīšanas vēlmes loģika pie ēdienkartes aprēķina](https://github.com/nickh-dev/balanced-menu-planning/blob/a3f6f985a19f57dcfce54f8832a92d46916b9fee/BMI-svara_jautajuma_logika2.drawio.png)]

**KCal aprēķins atbilstoši ankētas atbildēm** 
No ieņēmtā kaloriju daudzuma ir atkarīgs, cik veiksmīgi lietotāja saņemtā ēdienkarte atbilst viņa/viņas vēlmēm notievēt, saglabāt esošo svaru vai arī pielikt svarā.
Nepieciešamo kaloriju daudzums ir arī atkarīgs no vecuma, dzimuma un aktivitātes līmeņa.

Kaloriju daudzums tiks ņemts no tabulām atbilstoši lietotāja (1) dzimuma, (2) vecuma, (3) aktivitāšu līmeņa un (4) vēlmes mainīt svaru.
Pie tam, ja lietotājs vēlas notievēt, ēdienkarte būs -150kCal mazāka par normu, bet, ja lietotājs vēlas pielikt svarā, ēdienkarte būs +200kCal lielāka par normu.

<h3>Tabula KCal daudzums sievietēm</h3>

|             	| Aktīvs dzīvesveids  	| Mērens dzīvesveids  	| Pasīvs dzīvesveids	|
|---	          |---                  	|---                  	|---	                |
| 19-30 gadi  	|2400                  |2200                 	|2000               	|
| 31-50 gadi  	|2200                 	|2000                 	|1800               	|
| 51+ gadi    	|2000                 	|1800                 	|1600               	|


<h3>Tabula KCal daudzums vīriešiem</h3>

|             	| Aktīvs dzīvesveids  	| Mērens dzīvesveids  	| Pasīvs dzīvesveids	|
|---	          |---                  	|---                  	|---	                |
| 19-30 gadi  	|3000                  |2800                 	|2400               	|
| 31-50 gadi  	|2800                 	|2600                 	|2200               	|
| 51+ gadi    	|2600                 	|2400                 	|2000               	|



<h2>Konceptu modelis</h2>
Konceptu modeļi ietilpst sekojošas koncepcijas:
+ Lietotājs
+ Aktivitātes līmenis
+ Svars
+ Izmaksas
+ Produktu kopa
+ Ēdienkarte
+ Uzturvielas
+ Ēdienu pagatavošanas laiks

| Nr.  	| Koncepcijas                   	| Attiecība  	| Apraksts                                                                                        |
|---	   |---	                            |---	         |---                                                                                              |
| 1  	  |Lietotājs - Aktivitātes līmenis	| 1-1         | Vienam lietotājam vienā anketas aizpildīšanas brīdī atbilst noteiktais aktivitātes līmenis.	    |
| 2  	  |Lietotājs - Ēdienkarte   	      | 1-many  	   | Vienam lietotājam var būt vairākas ēdienkartes (jo anketa tiek aizpildīta vairākas reizes).     |
| 3    	|Ēdienkarte - Uzturvielas       	| 1-1  	      | Vienai ēdienkartei ir noteiktās uzņemtas uzturvielas.                                          	|
| 4    	|Aktivitātes līmenis - Ēdienkarte| 1-1         |	Izvēlētam aktivitātes līmenim atbilst viena noteiktā ēdienkarte, kurai ir pareizs KCal daudzums.|
| 5    	|Ēdienkarte - Pagatavošanas laiks| 1-1        	|Vienai ēdienkartei atbilst noteikts ēdienu pagatavošanas laiks.                                  |
| 6    	|Ēdienkarte - Produktu kopa     	| 1-many   	  |Vienā ēdienkarte ietilpst vairāki produkti.                                                     	|
| 7    	|Lietotājs - Izmaksas           	| 1-1        	|Vienam lietotājam vienā anketas aizpildīšanas brīdī atbilst noteikts izmaksu līmenis.           	|
| 8    	|Lietotājs - Pagatavošanas laiks | 1-1        	|Lietotājam vienā anketas aizpildīšanas brīdī atbilst noteikts vēlamais laiks ēdienu gatatošanai. |
| 9    	|Produktu kopa - Izmaksas       	| 1-1        	|Produktu kopa vienā anketas aizpildīšanas brīdī atbilst noteiktai izmaksu summai.               	|
| 10    |Lietotājs - Svars               | 1-1        	|Lietotājam vienā anketas aizpildīšanas brīdī atbilst noteikts svars un vēlme to mainīt.          |
| 11   	|Svars - Uzturvielas            	| 1-1        	|Svars vienā anketas aizpildīšanas brīdī atbilst noteiktam kCal daudzumam.                       	|

Konceptu modeļa attēlā papildus funkcionalitāte (mazināt ēdienu pagatavošanas laiku vai mazināt ēdienkartes izmaksas) tiek atzīmētas ar punktēto līniju.

[![Konceptu modelis](https://github.com/nickh-dev/balanced-menu-planning/blob/374173068ca8e82be1f81d6ee519470b7fc0f041/concept_model.jpg)]


<h2>Tehnoloģijas steks</h2>

Servera puse - Satvars: Laravel, Programmēšanas valoda: PHP, Datu bāze: MySQL, Tīmekļa serveris: Nginx, OS: Ubuntu, IaaS: AWS
Klienta puse - Struktūra: HTML, Prezentācija: CSS(Bootstrap), Uzvedība: JavaScript --> Tīmekļa vietne


[![Technology stack](https://github.com/nickh-dev/balanced-menu-planning/blob/main/technology_stack.png)]

<h2>Programmatūras apraksts</h2>
Klienta puse sastāv no 3 atsevišķām lapām - lietotāja reģistrācija, aptauja aizpildīšana un rezultātu (ēdienkartes) lapas.
Lietotāja ievadīti dati nonāk MySQL datu bāzē tabulā Users, pēc tam lietotājs ir pārvirzīts uz aptaujas aizpildīšanas lapu.
Aptaujas dati nonāk MySQL datu bāzē tabulā Questionnaire, tiek apstrādāti atbilstoši prasībām (tiek aprēķināts lietotājam nepieciešamais kaloriju daudzums un BMI indekss).
Lietotāja reģistrāciju un aptaujas datus servera pusē apstādā PHP, bet minimizācijas uzdevums tiek aprēķināts ar Python Cplex Doplex bibliotēku. 
Python izvelk no datu bāzes lietotāja aprēķināto kaloriju daudzumu un veic aprēķinus. Aprēķinu rezultāti tiek ierakstīti JSON formātā visai ēdienkartei 7 dienām MySQL datu bāzē.
Rezultāta lapa (saplānota ēdienkarte un rekomendācijas) ir izveidota ar PHP un HTML, pamatojoties uz MySQL datu bāzē saņēmtiem datiem.
<h1>Novērtējums</h1>
<h2>Novērtēšanas plāns</h2>

<h2>Novērtēšanas rezultāti</h2>
<h1>Secinājumi</h1>
